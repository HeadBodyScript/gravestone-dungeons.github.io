advancement revoke @s only gd_enchantment:illumination
execute unless predicate gd_main:is_sneaking if score @s mana matches 1000.. unless score @s enchantment.illumination_CD matches 0.. run function gd_enchantment:illumination/success
execute if predicate gd_main:is_sneaking if score @s mana matches 1000.. unless score @s enchantment.illumination_CD matches 0.. run function gd_enchantment:illumination/success1